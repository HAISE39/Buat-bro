-- =====================================
-- ‚ö° Unlimited Skill / No Cooldown ‚ö°
-- By: Mas Joko + GG Script
-- =====================================

if not gg then os.exit() end
gg.setVisible(false)

local base = gg.getRangesList("libil2cpp.so")[1].start

-- Offset dari dump.cs (il2cpp)
local offset_get_connect_cd = 0x2B6D7E0 -- GetConnectSkillCoolTime(int skillID)
local offset_get_skill_cd   = 0x2BFEEA4 -- GetSkillCoolTime()
local offset_is_accel_cd    = 0x2975584 -- IsAccelSkillCoolTime()
local offset_get_cd_prop    = 0x2EE0914 -- get_skillCoolTime()

-- Hitung alamat asli
local addr_connect_cd = base + offset_get_connect_cd
local addr_skill_cd   = base + offset_get_skill_cd
local addr_is_accel   = base + offset_is_accel_cd
local addr_cd_prop    = base + offset_get_cd_prop

-- ARM32 Thumb patch ‚Üí auto return 0/false
local patch_bytes = "70 47"  -- BX LR (return cepat)

-- Data patch
local patches = {
  {address = addr_connect_cd, flags = gg.TYPE_BYTE, value = patch_bytes},
  {address = addr_skill_cd,   flags = gg.TYPE_BYTE, value = patch_bytes},
  {address = addr_is_accel,   flags = gg.TYPE_BYTE, value = patch_bytes},
  {address = addr_cd_prop,    flags = gg.TYPE_BYTE, value = patch_bytes},
}

-- Simpan instruksi asli untuk restore nanti
local original = gg.getValues(patches)

-- Fungsi aktifkan cheat
function enableNoCooldown()
  gg.setValues(patches)
  gg.toast("‚úÖ Unlimited Skill / No Cooldown Aktif")
end

-- Fungsi restore cheat
function disableNoCooldown()
  gg.setValues(original)
  gg.toast("üîÑ Unlimited Skill / No Cooldown Dimatikan")
end

-- Menu toggle
while true do
  menu = gg.choice({
    "‚ö° Aktifkan Unlimited Skill",
    "‚ùå Matikan Unlimited Skill",
    "üö™ Keluar Script"
  }, nil, "üî• No Skill Cooldown Menu")

  if menu == 1 then
    enableNoCooldown()
  elseif menu == 2 then
    disableNoCooldown()
  elseif menu == 3 then
    gg.toast("üëã Keluar script")
    os.exit()
  else
    gg.sleep(100)
  end
end
