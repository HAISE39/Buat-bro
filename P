if not gg then os.exit() end
gg.setVisible(false)
gg.alert("‚ö° Basic Attack Speed Mod ‚ö°")

-- Ambil base address libil2cpp.so
local base = gg.getRangesList("libil2cpp.so")[1].start

-- (1) Offset method GetDisableRunForNormalAttack (boolean)
local offset_disable_run = 0x2AAF8AC
local addr_disable_run = base + offset_disable_run

-- Patch ARM Thumb return false (MOV R0, #0; BX LR)
local patch_disable_run = {
  {address = addr_disable_run, flags = gg.TYPE_BYTE, value = "00 20 70 47"}
}
gg.setValues(patch_disable_run)
gg.toast("‚úÖ DisableRunForNormalAttack patched ke FALSE")

-- (2) Offset attack speed multiplier (HARUS diganti dengan offset float asli dari dump)
local offset_attack_speed = 0x2AB1234 -- contoh dummy
local addr_attack_speed = base + offset_attack_speed

-- Pilihan menu speed
local menu = gg.choice({
  "‚ö° 10x Speed",
  "‚ö° 20x Speed",
  "‚ö° 30x Speed",
  "‚ö° 50x Speed",
  "‚ö° 100x Speed",
  "‚ùå Keluar"
}, nil, "Pilih kecepatan Basic Attack:")

local speeds = {10.0, 20.0, 30.0, 50.0, 100.0}

if menu ~= nil and menu ~= 6 then
  local speedValue = speeds[menu]
  local patch_speed = {
    {address = addr_attack_speed, flags = gg.TYPE_FLOAT, value = speedValue}
  }
  gg.setValues(patch_speed)
  gg.toast("‚ö° Basic Attack Speed di-set ke "..speedValue.."x")
elseif menu == 6 then
  gg.toast("‚ùå Batal")
end

-- Fungsi restore
function restore()
  gg.setValues({{address = addr_disable_run, flags = gg.TYPE_BYTE, value = "?? ?? ?? ??"}}) -- isi hex asli instruksi
  gg.setValues({{address = addr_attack_speed, flags = gg.TYPE_FLOAT, value = 1.0}})
  gg.toast("üîÑ Dikembalikan ke normal")
end
