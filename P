if not gg then os.exit() end
gg.setVisible(false)
gg.alert("âš¡ Unlimited Skill / No Cooldown âš¡")

local base = gg.getRangesList("libil2cpp.so")[1].start

-- Offsets
local offset_get_collision_time      = 0x2AA33A8
local offset_get_collision_time_deep = 0x2AA357C
local offset_add_collision_time      = 0x2AA2684
local offset_clear_collision_time    = 0x2AA2404

-- Alamat
local addr_get_collision_time      = base + offset_get_collision_time
local addr_get_collision_time_deep = base + offset_get_collision_time_deep
local addr_add_collision_time      = base + offset_add_collision_time
local addr_clear_collision_time    = base + offset_clear_collision_time

-- Instruksi return cepat (ARM Thumb vs ARM64 beda)
-- ARM32 Thumb: "70 47" (BX LR)
-- ARM64: "C0 03 5F D6" (RET)
local ret_thumb = "70 47"
local ret_arm64 = "C0 03 5F D6"

-- Patch: bikin semua function return cepat (anggap skill tidak punya cooldown)
local patches = {
  {address = addr_get_collision_time, flags = gg.TYPE_BYTE, value = ret_thumb},
  {address = addr_get_collision_time_deep, flags = gg.TYPE_BYTE, value = ret_thumb},
  {address = addr_add_collision_time, flags = gg.TYPE_BYTE, value = ret_thumb},
  {address = addr_clear_collision_time, flags = gg.TYPE_BYTE, value = ret_thumb},
}
gg.setValues(patches)

gg.toast("âœ… Unlimited Skill aktif (Cooldown = 0)")

-- Restore
function restore()
  gg.setValues({
    {address = addr_get_collision_time, flags = gg.TYPE_BYTE, value = "?? ??"},
    {address = addr_get_collision_time_deep, flags = gg.TYPE_BYTE, value = "?? ??"},
    {address = addr_add_collision_time, flags = gg.TYPE_BYTE, value = "?? ??"},
    {address = addr_clear_collision_time, flags = gg.TYPE_BYTE, value = "?? ??"},
  })
  gg.toast("ðŸ”„ Dikembalikan ke normal")
end
